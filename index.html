<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Font Awesome Script -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <!-- Title -->
    <title>AltTailor</title>

    <!-- Title Image -->
    <link rel="icon" href="images/logo4.jpg" type="image/jpg">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/loader.css">
    <link rel="stylesheet" href="css/animation.css">
    <link rel="stylesheet" href="css/buttonEffects.css">
    <link rel="stylesheet" href="css/form.css">

    <!-- Vue.js CDN V2 & Axios -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    
  </head>
  <body onload="loggedIn(); displayHome();">
    
    <div id="overlay">
        <div id="progstat"></div>
        <div id="progress"></div>
    </div>

    <!-- Start Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light" >
        
  
        <!-- Hamburger Name -->
        <button class="navbar-toggler mr-4" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
  
        <a class="navbar-brand mr-auto" href="index.html">
            <img src="images/logo.jpg" class="d-inline-block align-top navBarLogo" loading="lazy">
        </a>
        
        <!-- Collapse Content (Nav Bar) -->
        <div class="collapse navbar-collapse" id="navbarNav">
                
            <!-- Left Side Nav -->
            <ul class="navbar-nav mr-auto" id="leftSideNav">
                <li class="nav-item">
                    <a class="nav-link current" href="index.html" style="padding-bottom:unset;" >Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="location.html" style="padding-bottom:unset;" >Tailoring</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="alteration.html" style="padding-bottom:unset;" >Alteration</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="aboutUs.html" style="padding-bottom:unset;" >About Us</a>
                </li>
            </ul>      
        </div>
        <!-- End of collapse content (Nav Bar) -->

        <!-- Right side -->
        <div id="navbarNavRight">
            <ul class="navbar-nav flex-row ml-auto" id="registerProfile">
              <li class="nav-item mt-2 mr-1" id="change">
                <!-- Search bar -->
                <search-component></search-component>
             </li>
             <div id="change2">
                <!-- Replace me with Sign in or Profile -->
             </div>
            </ul>
        </div>
        <!-- End of right side -->
        
    </nav>
    <!-- End Navigation Bar -->


    <!-- Start of Register/Sign up modal -->
  <div class="modal fade" id="registerSigninModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
      <div class="modal-content">

        <!-- Tabs -->
        <ul class="nav nav-pills nav-justified" id="pills-tab" role="tablist">
            <li class="nav-item" role="presentation">
              <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Login</a>
            </li>
            <li class="nav-item" role="presentation">
              <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Register</a>
            </li>
        </ul>
        <!-- End of Tabs -->

        <!-- <div class="modal-header">
          <img src="images/logo.jpg" class="modalFormImage">
          <h5 class="modalDescription mb-4">All-in-one tailoring/alteration/cleaning services platform</h5>
        </div> -->

        <div class="modal-body">
            <div class="tab-content" id="pills-tabContent">

                <!-- Sign in tab -->
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">

                    <!-- Sign in forms -->
                    <!-- <form class="form-signin" method="POST" id="root"> -->
                    <form class="form-signin" action="backend/process_login.php" method="POST" id="signInForm">

                        <img src="images/logo.jpg" class="modalFormImage">
                        <h5 class="modalDescription mb-4">All-in-one tailoring/alteration/cleaning services platform</h5>
                            
                        <div class="form-group row">
                          <i class="fas fa-envelope prefix modalIcon"></i>
                          <div class="col-sm-11 ml-auto">
                            <div class="form-label-group row">
                              <input type="text" class="form-control modalInput" id="signinEmail" placeholder="email" required name="email" >
                              <span class="border"></span>
                              <label for="signinEmail">Email Address</label>
                            </div>
                            <!-- Error Message -->
                            <div id="emailOutput"></div>
                          </div>
                        </div>
                        
                        <div class="form-group row">
                          <i class="fas fa-lock prefix modalIcon"></i>
                          <div class="col-sm-11 ml-auto">
                            <div class="form-label-group row">
                            <input type="password" class="form-control modalInput" id="psw" placeholder="password" required="" name="password" >
                            <span class="border"></span>
                            <label for="psw"></i>Password</label>
                          </div>
                          <!-- Error Message -->
                          <div id="passwordOutput"></div>
                        </div>
                        
                        </div>
                        <div class="form-group form-check row">
                          <input type="checkbox" class="form-check-input" id="rememberMe">
                          <label class="form-check-label" for="rememberMe">Remember Me</label>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="clearAllSignin()">Close</button>
                            <input type="submit" class="btn btn-dark" value="Sign in" id="signinSubmit">
                        </div>
                    </form>
                    <!-- End of sign in forms -->
                </div>
                <!-- End of Signin Tab -->

                <!-- Register Tab -->
                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

                    <!-- Register form -->
                    <form class="form-signin needs-validation" id="myForm1" action="backend/process_register.php" method="POST" autocomplete="off" onsubmit="saveSession()">
                        <img src="images/logo.jpg" class="modalFormImage">
                        <h5 class="modalDescription mb-4">All-in-one tailoring/alteration/cleaning services platform
                        <br>Sign up with us now to get your clothing or bag cleaned, altered or tailored!</h5>

                        <div class="form-label-group row">
                          <input type="text" class="form-control" v-bind:class="{'is-invalid': emailnotValid, 'is-valid': emailisValid }" id="registerEmail" placeholder="email" required="" name="email"
                          pattern="^[a-zA-Z\d+._]+@([\w-]+\.)+[\w-]{2,4}$" v-model="registerEmail" v-on:keyup="checkEmail">
                          <label for="registerEmail">Email Address</label>
                          <small class="form-text text-muted">We'll never share your email with anyone else.</small>
                          <div class="valid-feedback" v-bind:style="emailValidStyle"> {{ emailValid }} </div>
                          <div class="invalid-feedback"> {{ emailInvalid }} </div>
                        </div>

                        <div class="form-label-group row">
                          <input type="text" class="form-control" v-bind:class="{'is-invalid': usernamenotValid, 'is-valid': usernameisValid}" id="registerUsername" placeholder="username" required="" name="username" 
                          pattern="^[a-zA-Z\d+]{3,15}$" v-model="registerUsername" v-on:keyup="checkUsername">
                          <label for="registerUsername">Username</label>
                          <small class="form-text text-muted">It will also be your display name.</small>
                          <div class="valid-feedback" v-bind:style="usernameValidStyle"> {{ usernameValid }} </div>
                          <div class="invalid-feedback"> {{ usernameInvalid }} </div>
                        </div>
                        
                        <!-- <div class="form-row row">
                          <div class="col-sm-6">
                            <div class="form-label-group">
                              <input type="text" class="form-control" id="registerFirstName" placeholder="firstName" required="" name="fname">
                              <label for="registerFirstName"></i>First Name</label>
                            </div>
                          </div>
                          <div class="col-sm-6">
                            <div class="form-label-group">
                              <input type="text" class="form-control" id="registerLastName" placeholder="lastName" required="" name="lname">
                              <label for="registerLastName"></i>Last Name</label>
                            </div>
                          </div>
                        </div> -->

                        <div class="form-group">
                          <div class="form-label-group row">
                            <input type="text" class="form-control" id="registerName" placeholder="name" name="name" pattern="^[a-zA-Z\s]{3,}$" 
                            v-model="registerName" v-on:blur="display" v-on:focus="display" required>
                            <label for="registerName">Name</label>
                            <small class="form-text text-muted">First name + Last Name | For example: Bob Dylan</small>
                            <div class="valid-feedback">You have a nice name.</div>
                            <div class="invalid-feedback"></div>
                          </div>
                          <input type="hidden" name="SuperSaaS_user_id" id="SuperSaaS_user_id">
                        </div>

                        <div class="form-check form-check-inline row">
                          Gender: &nbsp
                        </div>
                        <div class="form-check form-check-inline row">
                          <input class="form-check-input" type="radio" name="gender" id="male_btn" value="Male" required>
                          <label class="form-check-label" for="male_btn" style="padding-right: 5px;">
                            Male
                          </label>
                        </div>
                        &nbsp
                        <div class="form-check form-check-inline row mb-3">
                          <input class="form-check-input" type="radio" name="gender" id="female_btn" value="Female">
                          <label class="form-check-label" for="female_btn">
                            Female
                          </label>
                        </div>

                        <div class="form-label-group row" >
                          <input type="text" class="form-control" id="registerPhoneNumber" placeholder="Phone Number" required="" name="phone" pattern="[0-9]{8,8}">
                          <label for="registerPhoneNumber"></i>Phone Number</label>
                          <small class="form-text text-muted">For example "98763210"</small>
                          <div class="valid-feedback">Your phone number looks good!</div>
                          <div class="invalid-feedback">Your phone number is invalid.</div>
                        </div>

                        <div class="form-label-group row">
                          <input type="text" class="form-control" id="registerStreetAddress" placeholder="Address" required="" name="street_address" pattern="^[a-zA-Z0-9\s]{10,}$">
                          <label for="registerStreetAddress">Street Address</label>
                          <small class="form-text text-muted">Street name, street number and block number</small>
                          <div class="valid-feedback">Your street address looks good!</div>
                          <div class="invalid-feedback">Your street address is invalid.</div>
                        </div>

                        <div class="form-label-group row">
                          <input type="text" class="form-control" id="registerUnit" placeholder="Unit" name="unit" pattern="\d{1,2}-\d{2,4}">
                          <label for="registerUnit">Unit</label>
                          <small class="form-text text-muted">For example: 05-64</small>
                          <!-- <div class="valid-feedback">Your unit number looks good!</div>
                          <div class="invalid-feedback">Your unit number is invalid.</div> -->
                        </div>

                        <div class="form-label-group row">
                          <input type="text" class="form-control" id="registerPostal" placeholder="Postal" required name="postal_code" pattern="(?=.*\d).{6,6}">
                          <label for="registerPostal">Postal Code</label>
                          <small class="form-text text-muted">For example: 512678</small>
                          <div class="valid-feedback">Your postal code looks good!</div>
                          <div class="invalid-feedback">Your postal code is invalid.</div>
                        </div>
                        
                        <div class="form-label-group row">
                          <input type="password" class="form-control" id="registerPassword" placeholder="password" required="" name="pw"
                          pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" v-model="registerPassword" v-on:blur="display" v-on:focus="display" required>
                          <label for="registerPassword"></i>Password</label>
                          
                          <span id="togglePassword1">Show&nbsp</span>password: <i class="fa fa-eye-slash mt-1" id="eye1" aria-hidden="true"  class="bg-dark" onclick="if (registerPassword.type == 'text') registerPassword.type = 'password';
                          else registerPassword.type = 'text'; switchEye()" ></i>

                          <div class="valid-feedback">Your password meets all the requirements!</div>
                          <div v-if="show" class="invalid-feedback"> 
                            <ul style="list-style-type: none;">
                              <li>
                                <span class="text-success">
                                  {{ passwordLength() }}</span>
                                <div v-if="hideLength">✖ Minimum of 6 to 18 characters long</div>
                              </li>
                              <li>
                                <span class="text-success">
                                  {{ passwordLower() }}</span>
                                <div v-if="hideLower">✖ MUST contain at least one lowercase letter.</div>
                              </li>
                              <li>
                                <span class="text-success">
                                  {{ passwordUpper() }}</span>
                                <div v-if="hideUpper">✖ MUST contain at least one uppercase letter.</div>
                              </li>
                              <li>
                                <span class="text-success">
                                  {{ passwordNumber() }}</span>
                                <div v-if="hideNumber">✖ MUST contain at least one number.</div>
                              </li>
                            </ul>
                          </div>
                        </div>

                        <div class="form-label-group row">
                          <input type="password" id="cregisterPassword" class="form-control myCpwdClass" placeholder="password" required="" name="pw2" 
                          pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" required>
                          <label for="cregisterPassword"></i>Confirm Password</label>

                          <div id="cPwdValid" class="valid-feedback">Passwords Match</div>
                          <div id="cPwdInvalid" class="invalid-feedback"></div>
                              
                          <span id="togglePassword2">Show&nbsp</span>password: <i class="fa fa-eye-slash mt-1" id="eye2" aria-hidden="true"  class="bg-dark" onclick="if (cregisterPassword.type == 'text') cregisterPassword.type = 'password';
                          else cregisterPassword.type = 'text'; cswitchEye()" ></i>

                        </div>
                          
                        
                        <div class="form-group form-check row">
                          <input type="checkbox" class="form-check-input" id="registerPromotion">
                          <label class="form-check-label" for="registerPromotion">I'd like to receive exclusive offers and promotions via SMS</label>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="clearAllRegister()">Close</button>
                            <!-- <button type="button" class="btn btn-primary">Sign up</button> -->
                            <input type="submit" class="btn btn-primary" value="Sign up" id="submitBtn">
                        </div>
                        <small class="form-text text-muted">By clicking "SIGN UP"; I agree to AlterTail's Terms of Use and Privacy Policy</small>
                    </form>
                    <!-- End of register form -->
                </div>
                <!-- End of register tab -->
              </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End of Register/Sign up modal -->
  <hr style="margin: 0;">

    
  <!-- Carousel -->
    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="3"></li>
        </ol>

        <div class="carousel-inner" id="carouselItems">
          <!-- Carousel Slides -->
            <div class="carousel-item active">
                <img src="images/alteration_shop11.jpg" class="d-block w-100">
                <div class="carousel-caption d-none d-md-block carouselDescription" >
                    <h2 class="star_h2" id="slide_heading1"><b>Tang Cottage</b></h2>
                    <p>Owner of Tang Cottage, May Tang has more than twenty years of experience. While she was trained in clothing making, she has built a strong reputation for providing quality alteration services to her</p>
                </div>
            </div>
            <div class="carousel-item ">
                <img src="images/alteration_shop1 .jpg" class="d-block w-100">
                <div class="carousel-caption d-none d-md-block carouselDescription" >
                    <h2 class="star_h2" id="slide_heading1"><b>Q MENSWEAR</b></h2>
                    <p>Every house has their own signature cut, technical expertise or style which sets it apart from other houses or menswear brand. At Q MENSWEAR, we also have our own set of standards</p>
                </div>
            </div>
            <div class="carousel-item ">
                <img src="images/tailor2.jpg" class="d-block w-100">
                <div class="carousel-caption d-none d-md-block carouselDescription" >
                    <h2 class="star_h2" id="slide_heading1"><b>Wing Onn Alteration</b></h2>
                    <p>Home business - We Altering is ace at altering all sorts of materials from denim to cotton, and will even add a touch of detail such as pom-poms or sequins if you want to!</p>
                </div>
            </div>
            <div class="carousel-item ">
                <img src="images/slider-2.jpg" class="d-block w-100">
                <div class="carousel-caption d-none d-md-block carouselDescription" >
                    <h2 class="star_h2" id="slide_heading1"><b>Wonderful Alteration Store</b></h2>
                    <p>Home business - If you’re in need of tailors with lots of experience with couture pieces, Wonderful Alteration Store is the place to go. Prices start from S$20 for a basic shortening job.</p>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
    </div>
    <!-- End of Carousel -->
    
    <!-- ======================================== BODY ======================================== -->

    <!-- Special Context  -->
    <div class="container specialContext">
      <div class="row">
        <div class="col-sm-4">
          <img class="specialImage" src="images/allinone.png">
          <h4><strong>All-in-one Service Platform</strong></h4>
          <p>
            AlterTail provides alterations, tailoring and cleaning services
          </p>
        </div>
        <div class="col-sm-4">
          <img class="specialImage" src="images/qualityService.png">
          <h4><strong>Quality Service</strong></h4>
          <p>
            Obtain high quality services provided by dedicated artisans
          </p>
        </div>
        <div class="col-sm-4">
          <img class="specialImage" src="images/securePayment.png">
          <h4><strong>Secure Payment</strong></h4>
          <p>
            We use the most secure technology to protect your every transaction.
          </p>
        </div>
      </div>
    </div>
    <!-- End of Special Context -->

    <!-- Main Content -->
    <div id="mainContent" class="container main">

        <!-- Main Content Cards -->
        <div class="row row-cols-1 row-cols-md-3 mb-4" id='shopCards'>
            <!-- Top rated shop shown -->
        </div>        
        <!-- End of main Content Cards -->

    </div>
    <!-- End of Main Content -->


<!-- Footer -->
<footer class="page-footer font-small text-white bg-dark pt-4" >

  <!-- Footer Links -->
  <div class="container text-center text-md-left">

    <!-- Grid row -->
    <div class="row">

      <!-- Grid column -->
      <div class="col-md-4 mx-auto">

        <!-- Content -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">AlterTail</h5>
        <p>AlterTail is a one-stop fashion maintenance portal for residents in Singapore, providing fashion services such as alteration service, tailors and dry-cleaners.</p>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Company</h5>

        <ul class="list-unstyled">
          <li>
            <a href="aboutus.html">About Us</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Services</h5>

        <ul class="list-unstyled">
          <li>
            <a href="alteration.html">Alterations</a>
          </li>
          <li>
            <a href="location.html">Tailoring</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none">

      <!-- Grid column -->
      <div class="col-md-2 mx-auto">

        <!-- Links -->
        <h5 class="font-weight-bold text-uppercase mt-3 mb-4">Information</h5>

        <ul class="list-unstyled">
          <li>
            <a href="terms.html">Terms and Conditions</a>
          </li>
          <li>
            <a href="privacypolicy.html">Privacy Policy</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links -->

  <!-- <hr> -->
  <hr>

  <!-- Social buttons -->
  <ul class="list-unstyled list-inline text-center">
    <li class="list-inline-item">
      <a class="btn-floating btn-fb mx-1" href="https://www.facebook.com/sg.altertail.3" target="_blank" rel="noopener"> 
        <i class="fab fa-facebook-f"> </i>
      </a>
    </li>
    
    <li class="list-inline-item">
      <a class="btn-floating btn-tw mx-1" href="https://twitter.com/AltertailS" target="_blank" rel="noopener">
        <i class="fab fa-twitter"> </i>
      </a>
    </li>
  </ul>
  <!-- Social buttons -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <a href="aboutus.html">AlterTail.co</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->


    <!-- Custom JavaScript -->
    <script src="js/form.js"></script>
    <script src="js/loaded.js"></script>
    <script src="js/index.js"></script>

    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> -->

    <!-- Custom Vue.Js -->
    <script>
        var app = new Vue({
            el: "#myForm1",
            data: {
              emailisValid: false,
              emailnotValid: false,
              usernameisValid: false,
              usernamenotValid: false,
              show: false,
              registerName: '',
              registerPassword: '',
              hideLength: true,
              hideUpper: true,
              hideLower: true,
              hideNumber: true,
              registerUsername: '',
              registerEmail: '',
              usernameValid: '',
              usernameValidStyle: {
                color: 'red'
              },
              emailValid: '',
              emailValidStyle: {
                color: 'red'
              },
              emailInvalid: 'The email address entered is invalid',
              usernameInvalid: 'Username needs to be at least 3 characters long'
            },
            methods: {
              display: function() {
                if (this.show == false) {
                  this.show = true
                }
                else {
                  this.show = false
                }
              },
              passwordLength: function() {
                if (this.registerPassword.length >= 6) {
                  this.hideLength = false;
                  return "✔ MUST contain at least 6 characters"
                }
                this.hideLength = true;
                 
              },
              passwordUpper: function () {
                if (/[A-Z]/.test(this.registerPassword)) {
                  this.hideUpper = false;
                  return "✔ MUST contain at least one uppercase letter."
                }
                this.hideUpper = true;
              },
              passwordLower: function () {
                if (/[a-z]/.test(this.registerPassword)) {
                  this.hideLower = false;
                  return "✔ MUST contain at least one lowercase letter."
                }
                this.hideLower = true;
              },
              passwordNumber: function () {
                if (/[\d]/.test(this.registerPassword)) {
                  this.hideNumber = false;
                  return "✔ MUST contain at least one number."
                }
                this.hideNumber = true;
              },
              checkUsername: function() {
                // URL to an API endpoint
                let url = 'projectAPI/user/checkUsername.php?username=' + this.registerUsername

                // send a req to the above specified API endpoint
                axios.get(url)
                .then(response => {

                  // response is the data
                  let user_objects = response.data

                  // view it
                  // console.log(response.data)

                  this.usernameInvalid = this.registerUsername + " already exist."
                //   this.usernameValidStyle.color = "red"

                  
                  this.usernameisValid = false
                  this.usernamenotValid = true
                })
                .catch(error => {
                  // shows the status, e.g. 404
                  // console.log(error.response.status)
                  this.usernameValid = "You can use " + this.registerUsername + " as your username."
                  this.usernameValidStyle.color = "green"

                  this.usernameInvalid = "Username needs to be at least 3 characters long"

                  this.usernameisValid = true
                  this.usernamenotValid = false
                })
              },
              checkEmail: function() {
                // URL to an API endpoint
                let url = 'projectAPI/user/checkEmail.php?email=' + this.registerEmail

                // send a req to the above specified API endpoint
                axios.get(url)
                .then(response => {

                  // response is the data
                  let user_objects = response.data

                  // view it
                  // console.log(response.data)

                  this.emailInvalid = this.registerEmail + " already exist."
                //   this.emailValidStyle.color = "red"

                  this.emailnotValid = true
                  this.emailisValid = false
                })
                .catch(error => {
                  // shows the status, e.g. 404
                  // console.log(error.response.status)

                  this.emailValid = "You can use " + this.registerEmail + " as your email."
                  this.emailValidStyle.color = "green"

                  this.emailInvalid = "The email address entered is invalid"

                  this.emailnotValid = false
                  this.emailisValid = true
                })
              }
            }
        })


        Vue.component('search-component',  {
          template: `
          <div class="dropdown">
            <input type="text" class="searchBar" placeholder="Search Shop Names" v-model="query" @keyup="getData()" autocomplete="off" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"/>
            <div class="dropdown-menu" v-if="search_data.length">
              <ul class="list-group">
                <a href="#" class="dropdown-item" v-for="data1 in search_data" v-on:click="goToPage( data1.shop_name, data1.schedule_id, data1.seller_email )">{{ data1.shop_name }}</a>
              </ul>
            </div>
          </div>
          `,
          data:function(){
            return{
              query:'',
              search_data:[],
              shop_name: '',
              schedule_id: '',
              seller_email: ''
            }
          },
          methods:{
            getData:function(){
              let url = 'projectAPI/user/fetch.php?query=' + this.query;

              axios.get(url)
                .then(response => {
                  let user_objects = response.data;
                  this.search_data = user_objects.records
                })
              
            },
            goToPage: function(shop_name, schedule_id, seller_email) {
              window.location.replace("/AlterTail/shopPage.html?shop_name=" + shop_name + "&schedule_id=" + schedule_id + "&seller_email=" + seller_email);
            }
          }
        });

        var application = new Vue({
          el:'#registerProfile'
        });


       
    </script>



    <!-- Form animation -->
    <script>
      $(document).ready(function(){
      // ----------- Set all elements as INVALID --------------
      var myInputElements = document.querySelectorAll(".form-control");
      var i;
    //   for (i = 0; i < myInputElements.length; i++) {
    //     myInputElements[i].classList.add('is-invalid');
    //     myInputElements[i].classList.remove('is-valid');
    //   }
      // ------------ Check passwords similarity --------------
      $('#registerPassword, #cregisterPassword').on('keyup', function () {
        if ($('#registerPassword').val() != '' && $('#cregisterPassword').val() != '' && $('#registerPassword').val() == $('#cregisterPassword').val() ) {
          $('#cPwdValid').show();
          $('#cPwdInvalid').hide();
          $('#cPwdInvalid').html('Passwords Match').css('color', 'green');
          $('.myCpwdClass').addClass('is-valid');
          $('.myCpwdClass').removeClass('is-invalid');
          $("#submitBtn").attr("disabled",false);
          $('#submitBtn').addClass('btn-primary').removeClass('btn-secondary');
          for (i = 0; i < myInputElements.length; i++) {
            var myElement = document.getElementById(myInputElements[i].id);
            if (myElement.classList.contains('is-invalid')) {
              $("#submitBtn").attr("disabled",true);
              $('#submitBtn').addClass('btn-secondary').removeClass('btn-primary');
              break;
            }
          }
        } else {
          $('#cPwdValid').hide();
          $('#cPwdInvalid').show();
          $('#cPwdInvalid').html('Not Matching').css('color', 'red');
          $('.myCpwdClass').removeClass('is-valid');
          $('.myCpwdClass').addClass('is-invalid');
          $("#submitBtn").attr("disabled",true);
          $('#submitBtn').addClass('btn-secondary').removeClass('btn-primary');
        }
      });
      // ----------------- Validate on submit -----------------
      let currForm1 = document.getElementById('myForm1');
      currForm1.addEventListener('submit', function(event) {
        if (currForm1.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        else {
          $("#submitBtn").attr("disabled",false);
          $('#submitBtn').addClass('btn-primary').removeClass('btn-secondary');
          currForm1.classList.add('was-validated');
        }
      }, false);
      // ----------------- Validate on input -----------------
      currForm1.querySelectorAll('.form-control').forEach(input => {
        input.addEventListener(('input'), () => {
          if (input.checkValidity()) {
            input.classList.remove('is-invalid');
            input.classList.add('is-valid');
          } else {
            input.classList.remove('is-valid');
            input.classList.add('is-invalid');
          }
          var is_valid = $('.form-control').length === $('.form-control.is-valid').length;
          $("#submitBtn").attr("disabled", !is_valid);
          if (is_valid) {
            $("#submitBtn").attr("disabled",false);
            $('#submitBtn').addClass('btn-primary').removeClass('btn-secondary');
          } else {
            $("#submitBtn").attr("disabled",true);
            $('#submitBtn').addClass('btn-secondary').removeClass('btn-primary');
          }
        });
      });
      // ------------------------------------------------------
    });

    function submitForm(){ 
  // Call submit() method on <form id='myform'>
  document.getElementById('signInForm').submit(); 
} 

    // this is the id of the form
    $("#signInForm").submit(function(e) {

    e.preventDefault(); // avoid to execute the actual submit of the form.

    var form = $(this);
    var emailOutput = document.getElementById("emailOutput");
    var passwordOutput = document.getElementById("passwordOutput");
    var email = document.getElementById("signinEmail").value;
    var password = document.getElementById("psw").value;
    var name = document.getElementById("registerName").value;

    
    $.ajax({
          type: "GET",
          url: "projectAPI/user/verification.php?email=" + email + "&pw=" + password,
          data: form.serialize(), // serializes the form's elements.
          success: function(data)
          {
            // $('#signInForm').attr('validated',true);
            // $('#signInForm').submit();

            // sets a session
            sessionStorage.setItem('email', email);
            
            // refreshes the page
            submitForm()

            window.location.replace("index.html#");

          },
          statusCode: {
              401: function() {
                emailOutput.innerHTML = "";
                // passwordOutput.innerHTML = "Wrong Password";
                passwordOutput.innerHTML = `
                <div class="w3-animate-left text-danger">
                  &#x274C Password is <b>wrong</b> or <b>invalid</b> 
                </div>
                `;
              },
              404: function() {
                passwordOutput.innerHTML = "";
                // emailOutput.innerHTML = "Email does not exist";
                emailOutput.innerHTML = `
                <div class="w3-animate-left text-danger">
                  &#x274C Email does <b>not exist</b> or <b>invalid</b> 
                </div>
                `;
              }
            }
            
        });

        return false; 

    });

// testing purpose
console.log(sessionStorage.getItem('email'));


// Animate the Loader
;(function(){
  function id(v){return document.getElementById(v); }
  function loadbar() {
    var ovrl = id("overlay"),
        prog = id("progress"),
        stat = id("progstat"),
        img = document.images,
        c = 0;
        tot = img.length;

    function imgLoaded(){
      c += 1;
      var perc = ((100/tot*c) << 0) +"%";
      prog.style.width = perc;
      stat.innerHTML = "Loading "+ perc;
      if(c===tot) return doneLoading();
    }
    function doneLoading(){
      ovrl.style.opacity = 0;
      setTimeout(function(){ 
        ovrl.style.display = "none";
      }, 1200);
    }
    for(var i=0; i<tot; i++) {
      var tImg     = new Image();
      tImg.onload  = imgLoaded;
      tImg.onerror = imgLoaded;
      tImg.src     = img[i].src;
    }    
  }
  document.addEventListener('DOMContentLoaded', loadbar, false);
}());

    </script>  

  </body>
</html>